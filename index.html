<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html">
    <title>Web Audio Analyzer</title>
    <link rel="stylesheet" type="text/css" href="Webaudiostyle.css">

    <!-- import image for tab icon -->
    <link rel="icon" type="image/png" href="icon.png">
</head>
<body>
    <header>
        <h1>Web Audio Analyzer</h1>
        <a href="index.html" class="link">Home</a>
        <a href="instructions.html" class="link" target="_blank">Instructions</a>
        <a href="about.html" class="link" target="_blank">About</a>
    </header>
    <!--Create the loading animation-->
    <div id="container"  style="display:none;"></div>
    <div id="loading"  style="display:none;"></div>


    <div id="Findus" class="Findus">Find us on: <a href="http://tgm.jade-hs.de/" target="_blank">Homepage</a>
        <a href="http://www.facebook.com/hoertechnikaudiologie/?fref=ts" target="_blank"><img src="facebook.png" width="30" height="30"></a>
    </div>

    <form method="post" enctype="multipart/form-data" action="">
        <!-- set input audiofile and trigger the audioProcessing function -->
        <input type="file" class="audioInput" id="myAudio" name="myAudio[]" accept="audio/*" onchange="audioProcessing()">
        <label for="myAudio">Choose a file</label>
    </form>
    <div class="buttons">
        <button id="player" type="button" class="playPause">&#9654;</button>
        <button id="stop" type="button" class="stop">&#9724;</button>
        <input id="volume" type="range" min="0" max="1" step="0.1" value="0.5" class="Gain">
    </div>
    <div id="playbackTime">00:00/00:00</div>
    <div id="loopText">Loop Selection:<input type="checkbox" id="LoopCheck" onchange="setLoop(this)"></div>

    <div id="gridSize">Choose a grid size:
        <select id = "grid" onchange="gridSize()">
        <option value="0.25">small</option>
        <option value="0.5">medium</option>
        <option value="1">large</option>
    </select></div>

    <div class="canvas" id="canvasDivWave">
        <canvas id="canvasWaveScale" width="1200" height="280"></canvas>
        <canvas id="canvasWaveGrid" width="1200" height="260"></canvas>
        <canvas id="canvasWave" width="1176" height="260"></canvas>
        <canvas id="canvasRMS" width="1176" height="260"></canvas>
        <canvas id="canvasSelect" width="1176" height="260"></canvas>
        <canvas id="canvasWaveLine" width="1176" height="260"></canvas>
    </div>

    <div id="divWavePosition">
        <p id="wavePosition"></p>
        <p id="crestValue"></p>
    </div>



    <!-- generate dropwdown lists-->
   <!-- <div class = "dropdownContainer">
            <div id = "dropdownBlock">Choose a block length:
                <select id="blockLength" onchange="blockLength()" class = "dropdownBlock">
                    <option value="1024">1024</option>
                    <option value="2048">2048</option>
                    <option value="4096">4096</option>
                    <option value="8192">8192</option>
                </select></div>
            <div id = "dropbdownWindow">Choose a window type:
                <select id="windowType" onchange="windowType()" class = "dropdownWindow">
                    <option value="hann">hann</option>
                    <option value="rect">rectangle</option>
                    <option value="hannpoisson">hannpoisson</option>
                    <option value="cosine">cosine</option>
                    <option value="flat-top">flat-top</option>
                    <option value="kaiser-bessel">kaiser-bessel</option>
                </select></div>
            <div class = "editSpectrum">Choose an overlap:</div>
            <div class = "editSpectrum">Choose a Display type:</div>
            <div class = "editSpectrum">Choose a Colormap:</div>
            <div class = "editSpectrum">Choose min and max for spectogram:</div>
    </div>

    <div class = "dropdownContainer">
        <select id="blockLength" onchange="blockLength()" class = "dropdownBlock">
            <option value="1024">1024</option>
            <option value="2048">2048</option>
            <option value="4096">4096</option>
            <option value="8192">8192</option>
        </select>
        <select id="windowType" onchange="windowType()" class = "dropdownWindow">
            <option value="hann">hann</option>
            <option value="rect">rectangle</option>
            <option value="hannpoisson">hannpoisson</option>
            <option value="cosine">cosine</option>
            <option value="flat-top">flat-top</option>
            <option value="kaiser-bessel">kaiser-bessel</option>
        </select>
        <select id="overlap" onchange="overlap()" class = "dropdownOverlap">
            <option value="0.5">50%</option>
            <option value="0.0">0%</option>
            <option value="0.25">25%</option>
            <option value="0.75">75%</option>
        </select>
        <select id="display" onchange="chooseDisplay()" class = "dropdownDisplay">
            <option value="Spectrum">spectrum</option>
            <option value="Phase">phase</option>
            &lt;!&ndash; <option value="MFCC">MFCC</option> &ndash;&gt;
            &lt;!&ndash; <option value="Modulation Spectrum">modulation spectrum</option> &ndash;&gt;
            <option value="Group Delay">group delay</option>
            <option value="Instantaneous Frequency Deviation">instantaneous frequency deviation</option>
        </select>
        <select id="colormap" onchange="colormap()" class = dropdownColormap>
            <option value="1">Parula</option>
            <option value="2">Gray</option>
            <option value="3">Jet</option>
            <option value="4">Twilight</option>
        </select>
        <div id = "test">
        <div>min value:</div>
        <input type="text" id="min" onkeypress="minMaxValue(event)">
        <p>max value:</p>
        <input type="text" id="max" onkeypress="minMaxValue(event)">
        </div>
    </div>-->
     <table>
         <tr>
            <td><select id="blockLength" onchange="blockLength()">
                    <option value="1024">1024</option>
                    <option value="2048">2048</option>
                    <option value="4096">4096</option>
                    <option value="8192">8192</option>
                  </select></td>
            <td><select id="windowType" onchange="windowType()">
                    <option value="hann">hann</option>
                    <option value="rect">rectangle</option>
                    <option value="hannpoisson">hannpoisson</option>
                    <option value="cosine">cosine</option>
                    <option value="flat-top">flat-top</option>
                    <option value="kaiser-bessel">kaiser-bessel</option>
                  </select></td>
            <td><select id="overlap" onchange="overlap()">
                    <option value="0.5">50%</option>
                    <option value="0.0">0%</option>
                    <option value="0.25">25%</option>
                    <option value="0.75">75%</option>
                  </select></td>
            <td><select id="display" onchange="chooseDisplay()">
                    <option value="Spectrum">spectrum</option>
                    <option value="Phase">phase</option>
                    &lt;!&ndash; <option value="MFCC">MFCC</option> &ndash;&gt;
                    &lt;!&ndash; <option value="Modulation Spectrum">modulation spectrum</option> &ndash;&gt;
                    <option value="Group Delay">group delay</option>
                    <option value="Instantaneous Frequency Deviation">instantaneous frequency deviation</option>
                  </select></td>
            <td><select id="colormap" onchange="colormap()">
                    <option value="1">Parula</option>
                    <option value="2">Gray</option>
                    <option value="3">Jet</option>
                    <option value="4">Twilight</option>
                  </select></td>
            <td>
                <p style="margin-top:0px; margin-bottom:0px;">min value:</p>
                <input type="text" id="min" onkeypress="minMaxValue(event)" style="margin-top:0px">
                <p style="margin-top:0px; margin-bottom:0px;">max value:</p>
                <input type="text" id="max" onkeypress="minMaxValue(event)" style="margin-top:0px">
            </td>
        </tr>
    </table>

    <!-- import javascript files -->
    <script type="text/javascript" src="menu.js"></script>
    <script type="text/javascript" src="fft.js"></script>
    <script type="text/javascript" src="audioprocessing.js"></script>
    <script type="text/javascript" src="spectrogram.js"></script>
    <script type="text/javascript" src="waveform.js"></script>
    <script type="text/javascript" src="parula.js"></script>
    <script type="text/javascript" src="gray.js"></script>
    <script type="text/javascript" src="jet.js"></script>
    <script type="text/javascript" src="hsv.js"></script>
    <script type="text/javascript" src="twilight.js"></script>
    <script type="text/javascript" src="viridis.js"></script>
    <script type="text/javascript" src="plasma.js"></script>

    <div class="canvas" id="canvasDivSpec">
        <canvas id="canvasSpec" width="1176" height="512"></canvas>
        <canvas id="canvasScale" width="1200" height="540"></canvas>
        <canvas id="canvasLine" width="1176" height="512"></canvas>
    </div>

    <div id="divPosition">
        <p id="Position"></p>
        <p id="wert"></p>
    </div>

    <div class="canvas" id="divCanvasLegend">
        <canvas id="canvasLegend" width="300" height="75"></canvas>
    </div>

    <button type="button" onclick="downloadSpectrum()">save spectrogram</button>
</body>

</html>
