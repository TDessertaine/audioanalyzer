<!DOCTYPE html>
<html>

<head>

    <!-- define metadata -->
    <meta http-equiv="content-type" content="text/html">

    <!-- set title of the website -->
    <title>Instructions</title>

    <!-- link to webpage style -->
    <link rel="stylesheet" type="text/css" href="Webaudiostyle.css">

    <!-- include plotly latest version to visulize Data -->
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <!-- include MathJax to user LateX for Math formular -->
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    <script type="text/javascript" src="Audioprocessing.js"></script>

</head>

<body>

    <header>
        <h1>Web Audio Analyzer</h1>
        <a href="Webaudio.html" class="class1" target="_blank">Home</a>
        <a href="Instructions.html" class="class1" target="_blank">Instructions</a>
        <a href="About us.html" class="class1" target="_blank">About</a>
    </header>
    <div id="Findus" class="Findus">Find us on: <a href="http://www.jade-hs.de" target="_blank">Homepage</a>
        <a href="http://www.facebook.com/hoertechnikaudiologie/?fref=ts"><img src="facebook.png" width="30" height="30"></a>
    </div>

    <ul>
        <li><a href = "#ChoosingAFile">Choosing a file</a></li>
        <li><a href = "#PlayPause">Listen to the song</a></li>
        <li><a href = "#Editing">Editing the spectrum</a></li>
        <li><a href = "#blockLength">Choosing a block length</a></li>
        <li><a href = "#WindowType">Choosing a window type</a></li>
        <li><a href = "#overlap">Choosing an overlap</a></li>
        <li><a href = "#DisplayType">Choosing a display type</a></li>
        <li><a href = "#Colormap">Choosing a Colormap</a></li>
    </ul>
    <h1>Instruction</h1>


        <!--Instruction text-->
    <div id = "wrap">
        <h1 style="float: left;"><a id = "ChoosingAFile">Choosing a file:</a></h1>
        <br><br><br>
        <img src = "ChooseFile.PNG" height = "300" width = "300" style = "margin-left:-210px; margin-top:10px;">
        <p>Click on "Choose a file" button and import an audio file from your computer. You can import .wav, .mp3 and
           all other audio formats that are recognized by your browser (<a href = "https://developer.mozilla.org/en-US
           /docs/Web/HTML/Supported_media_formats" target = "_blank">Click here for more audio formats</a>). After you
           have chosen a file, you should see the waveform and the spectrum of the signal.</p>
        <h1 style="float: left;"><a id = "PlayPause">Listen to the song:</a></h1>
        <br><br><br>
        <img src = "PlayPause.PNG" height = "70" width = "300" style = "margin-left:-250px; margin-top:10px;">
        <p>You can play, pause and stop the track by using the buttons above. You can also adjust the volume by using the
            volume button. The second container shows you during playing the current time and the total length of the
            track.</p>
        <img src = "waveformSelection.PNG" height = "200" width = "500" style = "margin-left:0px; margin-top:10px;">
        <img src = "spectrumZoom.PNG" height = "200" width = "500" style = "margin-left:10px; margin-top:10px;">
        <p>During playing you can see the progress bar of the signal in the waveform and in the spectrum. You
            can select with the mouse on the waveform just a part of the track, which you want to hear. By doing this,
            the spectrum will show you just that part. You can zoom in and out in the spectrum by using "Ctrl + mouse
            wheel" for the time axis and "Shift + mouse wheel" for the frequency axis.</p>
        <h1 style="float: left;"><a id = "Editing">Editing the spectrum:</a></h1>
        <br><br><br>
        <img src = "EditingSpectrum.PNG" height = "100" width = "550" style = "margin-left:-310px; margin-top:10px;">
        <p>You can change the settings of the spectrum by choosing a block length, an overlap, a window type and a colormap. The default block length is 1024, the default window type is the hann window and the default overlap is 50%. The default type of
            the colormap is Parula, but you can choose between other 3 colormaps. For the spectrum you can choose a min and a max value for the visualization......... Depending on what you want to analyse you can choose the display type. You can visualise
            the spectrum, the phase, the modulation spectrum, the group delay and the instantaneous frequency of the signal.</p>

        <h1 style="float: left;"><a id = "blockLength">Choosing a block length:</a></h1>
        <br><br><br>
        <p>HERE COMES SOME INFO ABOUT THE BLOCK LENGTH AND WHY IT IS IMPORTANT FOR THE ANALYSIS</p>
        <h1 style="float: left;"><a id = "WindowType">Choosing a window type:</a></h1>
        <br><br><br>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} });
    </script>

    <div class="boxed" id="rect-window">
        <h2>1. Rect Window</h2>
        <p>The Rect Window is defined by: $w(n) = 1$</p>
    </div>

    <div id="divRect" style="width: 480px; height: 400px; margin: auto;"></div>

    <div class="boxed" id="hann-window">
        <h2>2. Hann Window</h2>
        <p>The Hann Window is defined by: $w(n) = \dfrac{1}{2}\left(1-cos\left(\dfrac{2\pi n}{N-1}\right)\right)$</p>
    </div>

    <div id="divHann" style="width: 480px; height: 400px; margin: auto;"></div>

    <div class="boxed" id="hann-poisson-window">
        <h2>3. Hann-Poisson Window</h2>
        <p>The Hann-Poisson Window is defined by: $w(n) = \dfrac{1}{2}\left(1-cos\left(\dfrac{2\pi n}{N-1}\right)\right)e^{{\dfrac{-\alpha\vert N-1-2n\vert}{N-1}}}$</p>
    </div>

    <div id="divHannPoisson" style="width: 480px; height: 400px; margin: auto;"></div>

    <div class="boxed" id="cosine-window">
        <h2>4. Cosine Window</h2>
        <p>The Cosine Window is defined by: $w(n) = cos\left(\dfrac{\pi n}{N-1}-\dfrac{\pi}{2}\right)$</p>
    </div>

    <div id="divCosine" style="width: 480px; height: 400px; margin: auto;"></div>

    <div class="boxed" id="flat-top-window">
        <h2>5. Flat-Top Window</h2>
        <p>The Flat-Top Window is defined by: $w(n) = \alpha_{0}-\alpha_{1}cos\left(\dfrac{2\pi n}{N-1}\right)+ \alpha_{2}cos\left(\dfrac{4\pi n}{N-1}\right)- \alpha_{3}cos\left(\dfrac{6\pi n}{N-1}\right)+ \alpha_{4}cos\left(\dfrac{8\pi n}{N-1}\right)$</p>
        <p>$\alpha_{0} = 1$; $\alpha_{1} = 1.93$; $\alpha_{2} = 1.29$; $\alpha_{3} = 0.388$; $\alpha_{4} = 0.028$</p>
    </div>

    <div id="divFlatTop" style="width: 480px; height: 400px; margin: auto;"></div>

    <div class="boxed" id="kaiser-bessel-window">
        <h2>6. Kaiser-Bessel Window</h2>
        <p>The Rect-Window is defined by: $w(n) = \dfrac{I_{0}\left(\pi\alpha\sqrt{1-\left(\dfrac{2n}{N-1}-1\right)^{2}}\right)}{I_{0}\left(\pi\alpha\right)}$</p>
    </div>

    <div id="divKaiserBessel" style="width: 480px; height: 400px; margin: auto;"></div>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "hann");
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divHann', data, layout);
    </script>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "rect");
        windowValue.fill(0,0,81)
        windowValue.fill(0,942,1024)
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divRect', data, layout);
    </script>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "hannpoisson");
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divHannPoisson', data, layout);
    </script>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "cosine");
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divCosine', data, layout);
    </script>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "flat-top");
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divFlatTop', data, layout);
    </script>

    <script type="text/javascript">
        var windowLen = linspace(0, 1024, 1024);
        var windowValue = calculateWindow(windowLen, "kaiser-bessel");
        var data = [{
            x: windowLen,
            y: windowValue,
            type: 'bar'
        }];
        var layout = {
            xaxis: {
                title: 'samples',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
            yaxis: {
                title: 'value',
                titlefont: {
                    family: 'Arial, sans-serif',
                    size: 14,
                    color: 'black'
                },
            },
        }
        Plotly.newPlot('divKaiserBessel', data, layout);
    </script>


    </div>
</body>

</html>
